# ==============================================================================
# ConvertX-CN OCR èªè¨€æ“´å±•é…ç½®
#
# ğŸ“š æ­¤é…ç½®ç¤ºç¯„å¦‚ä½•åœ¨å®¹å™¨å•Ÿå‹•æ™‚å®‰è£é¡å¤–çš„ Tesseract OCR èªè¨€åŒ…
#
# ğŸ¯ é©ç”¨æƒ…å¢ƒï¼š
#    - éœ€è¦ OCR è¾¨è­˜è¥¿ç­ç‰™æ–‡ã€ç¾©å¤§åˆ©æ–‡ã€ä¿„æ–‡ç­‰é¡å¤–èªè¨€
#    - ç¿»è­¯å¼•æ“æ”¯æ´ 15 ç¨®èªè¨€ï¼Œä½† OCR é è¨­åªå…§å»º 8 ç¨®
#    - éœ€è¦è™•ç†æ›´å¤šèªè¨€çš„æƒæç‰ˆ PDF
#
# âš ï¸ æ³¨æ„äº‹é …ï¼š
#    - æ¯æ¬¡å®¹å™¨å•Ÿå‹•æ™‚éƒ½æœƒå®‰è£èªè¨€åŒ…ï¼Œé¦–æ¬¡å•Ÿå‹•è¼ƒæ…¢
#    - èªè¨€åŒ…æœƒå­˜åœ¨å®¹å™¨å…§ï¼Œé‡å•Ÿå¾Œéœ€é‡æ–°å®‰è£
#    - è‹¥éœ€æ°¸ä¹…å®‰è£ï¼Œè«‹ä½¿ç”¨è‡ªè¨‚ Dockerfile æ–¹å¼
#
# ==============================================================================

services:
  convertx:
    image: convertx/convertx-cn:latest
    container_name: convertx-cn
    restart: unless-stopped

    # =========================================================================
    # ä½¿ç”¨è‡ªè¨‚ entrypoint å®‰è£é¡å¤–èªè¨€åŒ…
    # =========================================================================
    entrypoint: ["/bin/sh", "-c"]
    command:
      - |
        echo "ğŸ“¦ æ­£åœ¨å®‰è£é¡å¤– OCR èªè¨€åŒ…..."
        apt-get update && apt-get install -y --no-install-recommends \
          tesseract-ocr-spa \
          tesseract-ocr-ita \
          tesseract-ocr-por \
          tesseract-ocr-rus \
        && rm -rf /var/lib/apt/lists/*
        echo "âœ… èªè¨€åŒ…å®‰è£å®Œæˆ"
        echo "ğŸš€ å•Ÿå‹• ConvertX..."
        exec bun run start

    ports:
      - "3000:3000"

    volumes:
      - ./data:/app/data

    environment:
      - TZ=Asia/Taipei
      - JWT_SECRET=è«‹æ”¹æˆä½ è‡ªå·±çš„é•·éš¨æ©Ÿå­—ä¸²-è‡³å°‘32å€‹å­—å…ƒ
      - ACCOUNT_REGISTRATION=true
      - HTTP_ALLOWED=true
      - ALLOW_UNAUTHENTICATED=false
      - AUTO_DELETE_EVERY_N_HOURS=24

# ==============================================================================
# å¯ç”¨èªè¨€åŒ…å°ç…§è¡¨
# ==============================================================================
#
# ğŸ’¡ åªéœ€å®‰è£ä½ éœ€è¦çš„èªè¨€ï¼Œä¸å¿…å…¨éƒ¨å®‰è£
#
# èªè¨€åŒ…åç¨±             | èªè¨€ä»£ç¢¼ | èªè¨€
# ----------------------|---------|----------------
# tesseract-ocr-spa     | es      | è¥¿ç­ç‰™æ–‡
# tesseract-ocr-ita     | it      | ç¾©å¤§åˆ©æ–‡
# tesseract-ocr-por     | pt      | è‘¡è„ç‰™æ–‡
# tesseract-ocr-rus     | ru      | ä¿„æ–‡
# tesseract-ocr-ara     | ar      | é˜¿æ‹‰ä¼¯æ–‡
# tesseract-ocr-hin     | hi      | å°åœ°æ–‡
# tesseract-ocr-vie     | vi      | è¶Šå—æ–‡
# tesseract-ocr-tha     | th      | æ³°æ–‡
# tesseract-ocr-swe     | sv      | ç‘å…¸æ–‡
# tesseract-ocr-dan     | da      | ä¸¹éº¥æ–‡
# tesseract-ocr-nor     | no      | æŒªå¨æ–‡
# tesseract-ocr-fin     | fi      | èŠ¬è˜­æ–‡
# tesseract-ocr-pol     | pl      | æ³¢è˜­æ–‡
# tesseract-ocr-ces     | cs      | æ·å…‹æ–‡
# tesseract-ocr-hun     | hu      | åŒˆç‰™åˆ©æ–‡
# tesseract-ocr-tur     | tr      | åœŸè€³å…¶æ–‡
# tesseract-ocr-heb     | he      | å¸Œä¼¯ä¾†æ–‡
# tesseract-ocr-ben     | bn      | å­ŸåŠ æ‹‰æ–‡
# tesseract-ocr-tam     | ta      | æ³°ç±³çˆ¾æ–‡
# tesseract-ocr-ind     | id      | å°å°¼æ–‡
#
# ==============================================================================
# å…§å»ºèªè¨€ï¼ˆç„¡éœ€é¡å¤–å®‰è£ï¼‰
# ==============================================================================
#
# tesseract-ocr-eng     | en      | è‹±æ–‡
# tesseract-ocr-chi-tra | zh-TW   | ç¹é«”ä¸­æ–‡
# tesseract-ocr-chi-sim | zh      | ç°¡é«”ä¸­æ–‡
# tesseract-ocr-jpn     | ja      | æ—¥æ–‡
# tesseract-ocr-kor     | ko      | éŸ“æ–‡
# tesseract-ocr-deu     | de      | å¾·æ–‡
# tesseract-ocr-fra     | fr      | æ³•æ–‡
#
# ==============================================================================
